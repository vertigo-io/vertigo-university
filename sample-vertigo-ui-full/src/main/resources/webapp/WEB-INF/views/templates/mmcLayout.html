<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
  xmlns:vu="https://vertigo.io/thymeleaf/vertigo-ui"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <vu:head-meta/>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="Demo Application of Vertigo UI powered by SpringMvc, Thymeleaf and Quasar Framework"/>
    <meta name="author" content="Klee Group"/>
    
  	<link rel="stylesheet" th:href="@{/static/css/mars.css}"/>
	<link rel="icon" th:href="@{/static/img/favicon.ico}"/>
	
    <script type="text/javascript" th:src="@{/vertigo-ui/static/js/vertigo-ui-extensions.js}"></script>
</head>

<body class="mat desktop no-touch platform-mat">

	<vu:page  > <!-- vuiSsr -->
	
      <q-layout view="hHh LpR fff" id="page" v-cloak>
			<!-- BEGIN HEADER-->
			<q-header class="items-center">
				<q-toolbar class="justify-between">
					<div class="row">
						<q-btn flat round dense class="lt-lg"
						th:with="showLeft=${model.vContext['componentStates'].addComponentState('navDrawer').addPrimitive('showLeft', true)}, mini=${model.vContext['componentStates']['navDrawer'].addPrimitive('mini', false)}"
						@click="componentStates.navDrawer.showLeft = !componentStates.navDrawer.showLeft" icon="menu" aria-label="Toggle menu on left side"></q-btn>
						<div class="gt-md">University Vertigo Ui</div>						
					</div>
					<div class="col q-mx-xl">&nbsp;</div>
                    <div>
                        <vu:autocomplete-edit stack-label="false" dense object="user" field="couId" list="countriesMdl"
                        th:@input="|httpPostAjax('@{/country/_changeCountry}', vueDataParams(['user']))|" 
                        />                        
                    </div>
				</q-toolbar>
				
			</q-header>
        	<!-- END HEADER-->
        			
  			
  			<q-drawer
  			  content-class="bg-white text-primary"
		      side="left"
		      @vue:mounted="function() { componentStates.navDrawer.mini = (this.localStorage.miniMenu === 'true')}"
		      :mini="componentStates.navDrawer.mini"
			  v-model="componentStates.navDrawer.showLeft"
			>
		      
		      <q-list :class="{'v-navList':true, 'dense-list-header':!componentStates.navDrawer.mini}" >
		      <nav class="text-no-wrap">
		      	<q-item-label header>Movie</q-item-label>
		        <q-item tag="a" th:href="@{/movies/}">
		          <q-item-section avatar>
		          	<q-icon name="fas fa-dice-d20"></q-icon>
		          </q-item-section>
		          <q-item-section>Movies</q-item-section>
		        </q-item>
		        <q-item tag="a" th:href="@{/movie/3678598}">
                  <q-item-section avatar>
                    <q-icon name="fas fa-jedi"></q-icon>
                  </q-item-section>
                  <q-item-section>StarWars</q-item-section>
                </q-item>
		        <q-item tag="a" th:href="@{/moviesSearch/}">
		          <q-item-section avatar>
		          	<q-icon name="fas fa-rocket"></q-icon>
		          </q-item-section>
		          <q-item-section>Movies search</q-item-section>
		        </q-item>
		       	<q-separator></q-separator>
		        <q-item v-if="componentStates.navDrawer.mini" clickable
							@click="componentStates.navDrawer.mini = false; $event.view.window.localStorage.miniMenu = 'false'" title="Expand menu">
							<q-item-section avatar>
			          			<q-icon name="fas fa-chevron-circle-right" color="secondary" size="sm"></q-icon>
			          		</q-item-section>
					</q-item>
					 <q-item v-if="!componentStates.navDrawer.mini" clickable
							@click="componentStates.navDrawer.mini = true; $event.view.window.localStorage.miniMenu = 'true'" title="Minify menu">
						<q-item-section></q-item-section>
						<q-item-section avatar >
			          		<q-icon right name="fas fa-chevron-circle-left" color="secondary" size="sm" ></q-icon>
			          	</q-item-section>
					</q-item>
		        </nav>
		        </q-list>
		        
		    </q-drawer>
		    
			<q-page-container class="row justify-center q-pb-lg" >
				<q-page padding class="row col-12">	
				<div class="col content-body q-gutter-sm">
				    <vu:messages/>		
			 		<section class="col content-body"  layout:fragment="content"></section>
			 		</div>
				</q-page>
			</q-page-container>
		</q-layout>
		
	</vu:page>
	<div layout:fragment="javascript-footer">
	</div>
			
</body>
</html>